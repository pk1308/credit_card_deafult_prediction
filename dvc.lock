schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/CreditCard/components/stage_01_data_ingestion.py --config=params.yaml
    deps:
    - path: src/CreditCard/components/stage_01_data_ingestion.py
      md5: 0ab64eec408324ffacdfe996f499322e
      size: 6104
    params:
      params.yaml:
        training_pipeline_config:
          artifact_dir: artifact
          experiment_code: Development
          pipeline_name: CreditCard
          random_state: 1961
    outs:
    - path: artifact/Stage00_data_ingestion/ingested_data/test.csv
      md5: c4b7f6551e75b042b45f7a8823543cff
      size: 728498
    - path: artifact/Stage00_data_ingestion/ingested_data/train.csv
      md5: 312cfce63f345c68e316acae88295088
      size: 2918927
    - path: artifact/Stage00_data_ingestion/raw_data/UCI_Credit_Card.csv
      md5: 05928af86852df9d28e8aa23c9e0045e
      size: 3647208
  data_validation:
    cmd: python src/CreditCard/components/stage_02_data_validation.py --config=params.yaml
      --schema_file=./configs/schema.yaml
    deps:
    - path: artifact/Stage00_data_ingestion/ingested_data/test.csv
      md5: c4b7f6551e75b042b45f7a8823543cff
      size: 728498
    - path: artifact/Stage00_data_ingestion/ingested_data/train.csv
      md5: 312cfce63f345c68e316acae88295088
      size: 2918927
    - path: configs/schema.yaml
      md5: 69a89ceb242fe24a3eeec39ac2d15026
      size: 3454
    - path: src/CreditCard/components/stage_02_data_validation.py
      md5: 50ac4edd32b4bece7c7ccc4c2f5f910a
      size: 9494
    outs:
    - path: artifact/stage02_data_validation/validated_test.pkl
      md5: 4a213c44dc8be694345ca5f1c082f525
      size: 1201239
    - path: artifact/stage02_data_validation/validated_train.pkl
      md5: 30c446999d0e68869331772a1186f8d6
      size: 4801239
  data_transformation:
    cmd: python src/CreditCard/components/stage_03_data_transformation.py --config=params.yaml
      --schema_file=./configs/schema.yaml --feature_store=./configs/feature_generator.yaml
    deps:
    - path: artifact/stage02_data_validation/validated_test.pkl
      md5: 4a213c44dc8be694345ca5f1c082f525
      size: 1201239
    - path: artifact/stage02_data_validation/validated_train.pkl
      md5: 30c446999d0e68869331772a1186f8d6
      size: 4801239
    - path: configs/feature_generator.yaml
      md5: 7b8e4c16b5a83d73e62712f56f5baa02
      size: 1024
    - path: src/CreditCard/components/stage_03_data_transformation.py
      md5: 256b8a157fd64461a5e3d6da0ff4b2de
      size: 7270
    outs:
    - path: artifact/stage03_data_transformation/preprocessing/preprocessing_obj.pkl
      md5: 4b625cede573333da383a250f6073e8b
      size: 116684
  model_trainer:
    cmd: python src/CreditCard/components/stage_04_model_trainer.py --config=params.yaml
      --schema_file=./configs/schema.yaml --model_config=./configs/model_factory.yaml
      --feature_store=./configs/feature_generator.yaml
    deps:
    - path: artifact/stage02_data_validation/validated_train.pkl
      md5: 30c446999d0e68869331772a1186f8d6
      size: 4801239
    - path: artifact/stage03_data_transformation/preprocessing/preprocessing_obj.pkl
      md5: 4b625cede573333da383a250f6073e8b
      size: 116684
    - path: configs/model_factory.yaml
      md5: 746b8926faf935ae0784f821beeb576f
      size: 909
    - path: src/CreditCard/components/stage_04_model_trainer.py
      md5: 1dd2b1d49806fcc0152f81c8955e281e
      size: 9291
    params:
      params.yaml:
        model_trainer_config.models:
        - GBT
        - RF
        - LGBM
        - CATBOOST
    outs:
    - path: artifact/stage04_model_training/best_model/best_model.pkl
      md5: d056a33e7e72e8f85f81cd5514ab9f7c
      size: 344055
    - path: artifact/stage04_model_training/model_eval_reports/model_params.yaml
      md5: 58cbdda31937492537afad7110bbdacd
      size: 1875
    - path: artifact/stage04_model_training/model_eval_reports/model_report.html
      md5: a1c210994a89556c5181df6b92db9cd8
      size: 6962664
  model_eval:
    cmd: python src/CreditCard/components/stage_05_model_eval.py --feature_store=./configs/feature_generator.yaml
      --config=params.yaml --schema_file=./configs/schema.yaml --model_config=./configs/model_factory.yaml
    deps:
    - path: artifact/stage02_data_validation/validated_test.pkl
      md5: 4a213c44dc8be694345ca5f1c082f525
      size: 1201239
    - path: artifact/stage02_data_validation/validated_train.pkl
      md5: 30c446999d0e68869331772a1186f8d6
      size: 4801239
    - path: artifact/stage04_model_training/best_model/best_model.pkl
      md5: d056a33e7e72e8f85f81cd5514ab9f7c
      size: 344055
    - path: src/CreditCard/components/stage_05_model_eval.py
      md5: 5e5cc2138812eb93f07b0d600885aca2
      size: 9157
    outs:
    - path: artifact/stage_05_model_evaluation/evaluated_model_dir/evaluated_model.pkl
      md5: 4b84bf6ce0d6beaa2690d0d77640d60c
      size: 345585
    - path: artifact/stage_05_model_evaluation/evaluated_model_dir/model_eval_report.html
      md5: 1d4ec3c5f7dc96f6ded3bb1780592720
      size: 7962217
    - path: artifact/stage_05_model_evaluation/evaluated_model_dir/model_eval_report.json
      md5: 89776e124d1145b0f39e8e0eaccdc086
      size: 800
  model_pusher:
    cmd: python src/CreditCard/components/stage_06_model_pusher.py --feature_store=./configs/feature_generator.yaml
      --config=params.yaml --schema_file=./configs/schema.yaml --model_config=./configs/model_factory.yaml
    deps:
    - path: artifact/stage02_data_validation/validated_test.pkl
      md5: 4a213c44dc8be694345ca5f1c082f525
      size: 1201239
    - path: artifact/stage02_data_validation/validated_train.pkl
      md5: 30c446999d0e68869331772a1186f8d6
      size: 4801239
    - path: artifact/stage_05_model_evaluation/evaluated_model_dir/evaluated_model.pkl
      md5: ca3e18027567e0fe4508f832083ed290
      size: 1590705
    - path: src/CreditCard/components/stage_06_model_pusher.py
      md5: a104d5b1c62936cd7bbf5ce2de7f03b5
      size: 10044
    outs:
    - path: artifact/stage_06_model_pusher/Model_eval_report/model_eval_report.html
      md5: c7b3e58f070d18b4876e67b02fdc8bfb
      size: 8238140
    - path: artifact/stage_06_model_pusher/Model_eval_report/model_eval_report.json
      md5: 28228ff0b7d2945e45e96e4b1bae67f2
      size: 757
    - path: production_model/best_model.pkl
      md5: 3f0422b9b09e23a432023dac21394a59
      size: 1591880
